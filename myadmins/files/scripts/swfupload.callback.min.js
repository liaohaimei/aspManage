var swfu,Files=[];var init=function(){try{if(swfu&&swfu.destroy){swfu.destroy();$(".fl").each(function(){this.parentNode.removeChild(this)})}swfu=HandlerInit(Setting);$("#message").html(" *选择文件后自动开始上传")}catch(a){alert(a.description)}};function BeforeStartCallBack(a){}function fileQueueStartCallBack(a){$(".fl").each(function(){this.parentNode.removeChild(this)})}function StartSucceedCallBack(a){while(Files.length>0){Files.pop()}if(a!=undefined){$_("b_"+a).style.backgroundColor="#f6f6f6";$_(a).style.border="1px solid #ddd"}}function StartErrorCallBack(){$("#message").html(" *没有可上传的文件。请先选择文件。")}function FailedCallBack(b,c){var a=encodeURIComponent(c);$_("a_"+b.id).innerHTML='<a href="javascript:void(0)" onclick="alert(decodeURIComponent(\''+a+'\'));">信息</a> <a href="javascript:void(0)" onclick="swfu.requeueUpload(\''+b.id+"');swfu.startUploadFiles('"+b.id+"')\">重传</a>";$_("b_"+b.id).style.backgroundColor="#fee";$_(b.id).style.border="1px solid #fcc";return' <img src="files/images/wrong.png" width="16" height="16" />'}function QueueErrorCallBack(a,d,b){var c="";if(a!=null){c=a.name+"\r\n\r\n"}$("#message").html(" *"+c+d)}function SavingCallBack(a){$_("a_"+a.id).innerHTML="无";return' <img src="files/images/loading.gif" width="16" height="16" />'}function SuccessCallBack(file,serverData){var File=null;try{eval("File = ("+serverData+");")}catch(ex){}if(!File){return"异常"}if(File.err){swfu.setError();swfu.uploadError(file,500,File.msg);return""}file.newname=File.name;Files.push(file);$_("a_"+file.id).innerHTML="无";$_("b_"+file.id).style.backgroundColor="#f6f6f6";$_(file.id).style.border="1px solid #ddd";return' <img src="images/right.png" width="16" height="16" />'};